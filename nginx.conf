# Nginx配置文件示例
# 使用方法：将此文件内容复制到服务器的 /etc/nginx/conf.d/tomato.conf

server {
    listen 80;
    server_name andyzeng.xin www.andyzeng.xin;
    
    # 网站根目录
    root /usr/share/nginx/html;
    index index.html index.htm;
    
    # 字符编码
    charset utf-8;
    
    # 访问日志
    access_log /var/log/nginx/tomato_access.log;
    error_log /var/log/nginx/tomato_error.log;
    
    # 主页面
    location / {
        try_files $uri $uri/ /index-mobile-enhanced.html;
    }
    
    # 静态资源缓存
    location ~* \.(jpg|jpeg|png|gif|svg|ico|css|js)$ {
        expires 30d;
        add_header Cache-Control "public, immutable";
    }
    
    # 禁止访问隐藏文件
    location ~ /\. {
        deny all;
    }
    
    # 移动设备优化
    location /index-mobile-enhanced.html {
        add_header Cache-Control "no-cache";
    }
    
    # Gzip压缩
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript application/javascript application/json;
}

# HTTPS配置（使用Let's Encrypt后会自动添加）
# certbot会自动修改此配置，添加SSL证书相关配置
